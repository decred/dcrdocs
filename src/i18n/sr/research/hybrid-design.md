# Хибридни дизајн 

---

Главни контраст у претходно описаној сатоши шеми[^1] је нови систем лутрије у којем се морају купити карте, а затим чекају зрео период пре него што се могу одабрати и спровести. Избор улазница за блок се врши лексикографски из зрелог базена улазница базираног на псеудонандомћности садржаном у заглављу блока. Пошто је манипулација овом псеудонандомћношћу у систему PoW, манипулација селекцијом карата је повезана са основним трошковима за истраживање PoW. Избор улазница током временског периода може се описати вероватноћом сличном вјеројатности добијања блока у PoW при константној брзини исхране током времена уз константну потешкоћу[^2], дајући расподелу вероватноће у режиму приближно једнаку половини величине базена. Цена за куповину карте регулисана је новом тешкошћом у количини која је одређена експоненцијално измјереним просечним бројем купованих карата и величином зрелог базена улазница у претходним блоковима.

Валидација PoW блокова објашњава се следећим корацима:

1. Блок је истражио PoW истраживач, који бира трансакције које се стављају унутар њега. Трансакције повезане са системом улога се уносе у UTXO скуп.
2. PoS истраживач гласа на блоку тако што производе трансакцију гласа из своје карте. Гласање омогућава да се блок изгради на врху претходног и провјерава да ли је претходно редовно стабло трансакција (које садржи трансакције са коинбејс-ом и трансакције које нису у власништву) важеће или не.
3. Још један PoW истраживач почиње да гради блок, убацујући гласове PoS истраживача. Већина гласова мора бити укључена у сљедећи блок за тај блок који мрежа прихвата. Од трансакција гласања у овом новом блоку, PoW истраживач проверава заставу да види да ли је истраживач PoS означио да ли је редовно стабло трансакција блок-а ваљано. Ове ознаке за гласање су прикупљене и, на основу већине гласова, бит ће означена у овом блоку да би се назначило да ли је редовно стабло трансакција претходног блока ваљано.
4. Идентификује се нешто што задовољава потешкоће у мрежи, а блок се убацује у блокчејн. Ако је редовно стабло трансакција претходног блока потврђено, убаците ове трансакције у УТКСО скуп. Иди на 1.

Да би се обесхрабрила манипулација укљученим гласова, на текући блок се примјењује линеарна казна субвенције ако не укључе све трансакције гласања у свој блок. "Блага" казна поништавања претходног стабла трансакција помаже у спречавању одбацивања посла, што је неопходно за обезбеђивање система, и претпоставља да ће следећи блок добити истраживач који није заинтересован за очување субвенција првог блока у корист свог. Чак и у случају да то није тачно, злонамјерни истраживач са високом брзином хеша ће ипак требати бар \ ((\ тект {број за већину} / 2) +1 \) гласати за стабло трансакција из претходног блока да би произвео блок који им даје субвенције из претходног блока.

Битне заставице се експлицитно додају и за заглавље блока и за гласове тако да било који истраживач може лако гласати у новим ''тврдим' или ''меким' унапређењима.

---

## <i class="fa fa-book"></i> Референце 

[^1]: Bentov I., Lee C., Mizrahi A., Rosenfeld M. 2014. [Proof-of-activity: Extending Bitcoin's proof-of-work via proof-of-stake](https://decred.org/research/bentov2014.pdf).
[^2]: Nakamoto S. 2008. [Bitcoin: A peer-to-peer electronic cash system](https://decred.org/research/nakamoto2008.pdf).
