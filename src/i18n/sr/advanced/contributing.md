# Децред Пул захтеви и доприноси 

---

Сви кодови за Децред се чувају на ГитХуб-у. Овај документ пружа неке основне информације о томе како се бавимо доприносима кодова и неким основним информацијама. Делимично се заснива на сличном документу из [btcsuite](https://github.com/btcsuite).

---

## Припрема 

Добар први корак је прочитати документацију [Code Contribution Guidelines documentation](https://github.com/decred/dcrd/blob/master/docs/code_contribution_guidelines.md) како бисте добро разумјели политике које користи
пројекат. Тај документ се првенствено фокусира на Go кодбејс, али је и даље добар почетак.

Следећи примери ће бити подељени у две секције, један за Go пројекте (дцрд, дцрвалет, гоминер, итд.), А један за пројекте који не користе Go (decrediton, Paymetheus, dcrdocs, итд.). У свим случајевима, обавезно погледајте README.md у сваком пројекту ако вам је потребна помоћ при постављању одређеног пројекта.

---

## Уопштени модел 

Овим процесом покушавамо да допринесемо једноставном истовремено одржавању високог нивоа квалитета кода и чисте историје. Чланови тима са декредом морају да прате исте процедуре као спољни сарадници.

Наш модел хакерског кода у формулару је следећи. Ако било која од овога нема смисла, не брините, детаљније ће бити објашњена у наредним одељцима.

1. Пронађите проблем на који желите да радите. Ако нико не описује ваш проблем, отворите га с оним што ћете радити.
1. Промените кодове на огранку.
1. Притискајте ове промене на властити враћени ГитХуб репо.
1. Када је ваш код спреман да се прегледа или када желите да унос из других уређаја отвори Пул Риквест (ПР) на главном репо-у са ГитХуб веб странице.
1. Додајте коментар о ПР-у који наводи који проблем решавате. Ставите текст Затвори # или поправке # праћени бројем проблема на једној линији. Ово ће омогућити ГитХуб да аутоматски повеже ПР са проблемом и затвори проблем када је ПР затворен.
1. Можете тражити одређеног рецензента са ГитХуб веб странице или можете питати некога на ирц / слацк да прегледате.
1. СВЕ шифре морају бити прегледане и примљено најмање једно одобрење пре него што се уђе. Само чланови тима могу дати званично одобрење, али се коментари других корисника подстичу.
1. Ако постоје тражене измене, направите те промјене и учитајте их у вашој локалној грани.
1. Притискајте те промјене на исту грану коју сте хакирали. На тај начин ће се појавити у ПР-у, а рецензент може да се упореди са претходном верзијом.
1. Once your code is approved, it can be merged into master.  To keep history clean, we only allow non-fast-forward merges (that means we want a linear history).  Most PRs also must be squashed to a single commit (although if there is reason to have it as multiple commits that can be considered on a case by case basis).
1. Ако је ваш ПР јединствени учинак (или га аутоматски гњави ГитХуб) и ухваћен је са мастер-ом, рецензент ће спојити ваш ПР. Ако је ваша грана била сувише далеко, можда ће вам бити затражено да поништите своје обавезе. Једном када се то уради и потисне, рецензент ће спојити ваше обавезе.

---

## Go 

За пројекте који користе Go, можете пратити овај поступак. Као пример ће се користити дцрд. Ово претпоставља да већ имате инсталиран go1.6 или новији и радни `$GOPATH`.

### Једнократно подешавање
- Форк дцрд на ГитХуб
- Покрените следеће команде да бисте добили дцрд, све зависности и инсталирали га:

```bash
$ mkdir -p $GOPATH/src/github.com/decred/
$ git clone https://github.com/decred/dcrd $GOPATH/src/github.com/decred/dcrd
$ cd $GOPATH/src/github.com/decred/dcrd
$ go dep ensure
$ go install . ./cmd/...
```

- Додајте даљински управљач за вашу вилицу:

```bash
$ git remote add <yourname> https://github.com/<yourname>/dcrd.git
```

## Остали пројекти 

За пројекте који нису написани у Go, почетна подешавања ће зависити од пројекта. Овде ћу користити дцрдоцс, али основни кораци су исти за било који од пројеката. Посебна подешавања се могу видети у пројекту РЕАДМЕ.мд (на примјер, како инсталирати мкдоцс за рад на дцрдоцс или електрону за декредитацију).

### Једнократно подешавање 
- Форк дцрдоцс на ГитХуб
- Покрените следеће команде да бисте добили дцрд, све зависности и инсталирали га:

```bash
$ mkdir -p code/decred
$ cd code/decred
$ git clone https://github.com/decred/dcrdocs
$ cd dcrdocs
```

- Додајте даљински управљач за вашу вилицу:

```bash
$ git remote add <yourname> https://github.com/<yourname>/dcrdocs.git
```

## Креирање новог захтева за повлачење функције 
- Пронађите или направите проблем на ГитХуб репо (оригинал, а не вашу вилицу) за функцију на коју желите да радите.
- Проверите нову функционалну грану која ће садржати измене које ћете израдити:

```bash
$ git checkout -b <feature_branch>
```
- Учините све промене неопходне за функцију и извршите их
- Притисни своју функцију на своју вилицу:

```bash
$ git push <yourname> <feature_branch>
```
- -Са својим прегледачем идите на хттпс://гитхуб.цом/децред/дцрд
- Креирајте захтев за повлачење помоћу корисничког интерфејса ГитХуб. Можете тражити рецензента на ГитХуб веб страници или можете питати некога на ирц / слацк.

## Промените један од ваших постојећих захтева за повлачење 

Понекад ће вам бити затражено да преправите захтев за враћање на најновију главну грану.

- Уверите се да је главна грана уп-то-дате:

```bash
$ git checkout master
$ git pull
```
- Проверите постојећу функцију и промените га интерактивном заставом:

```bash
$ git checkout <feature_branch>
$ git rebase -i master
```
- Follow the directions presented to specify 's' meaning squash for the additional commits (the first commit must remain 'p' or 'pick').
- Напишите јединствену поруку у едитору који сте поставили да покрије све укључене комитете.
- Сачувај и затворите уредник, а гит би требало да генерише појединачну обавезу са поруком коју сте навели и све које сте извршили додали. Можете извршити провјеру извршења помоћу наредбе ```git show```.
- Угурајте грануна вилицу  на силу:

```bash
$ git push -f <yourname> <feature_branch>
```

## Остало 

Постоји још неколико ствари које треба узети у обзир приликом обављања захтева за повлачењем. У случају Go кода, већ постоји значајна покривеност тестом. Ако додате код, додајте и тестове. Ако нешто поправљате, морате се побринути да не прекинете постојеће тестове. Код Go-а постоји скрипта ```goclean.sh``` у сваком репу за покретање тестова и свих статичких контролера које имамо. Ниједан код неће бити прихваћен без пропуштања свих тестова. У случају ноде.јс кода (декретон), сви кодови морају проћи еслинт. Можете то проверити помоћу команде ```npm run lint```.

Коначно, сваки репо има ЛИЦЕНЦУ. Ваш нови код мора бити под истом ЛИЦЕНЦОМ као постојећи код и додељен ауторским правима на 'Тхе Децред Девелоперс'. У већини случајева ово је веома либерална ИСЦ лиценца, али неколико репозиција је различито. Проверите репо да бисте били сигурни.

Ако имате било каквих питања за допринос, слободно питајте на IRC/slack или ГитХуб. Чланови тима који се одбацују (и вероватно чланови заједнице) ће вам бити од користи.
