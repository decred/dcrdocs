# Simnet 

---

## Огляд 

Під час розробки програм Decred або тестових потенційних змін, часто надзвичайно корисно мати тестову мережу, де рівень складності буде достатньо низьким для створення блоків, коли це необхідно.

Для полегшення цих сценаріїв dcrd забезпечує мережу моделювання (simulation network) (`--simnet`).  Нижче наведено огляд найважливіших властивостей, які відрізняють його від основної мережі:

* Складність починається надзвичайно низько, що дозволяє швидке видобування блоків за домопогою CPU
* Зміни в організації мережи:
    * All code related to peer discovery and IP address dissemination is disabled to help ensure the network remains private
    * Мережеві порти peer та RPC різні
    * У протоколі peer-to-peer повідомлень використовується унікальна мережева послідовність байтів, тому блоки не можуть випадково перетинатися з основною мережею
* Усі параметри ланцюга та платіжної адреси унікальні, щоб запобігти плутанині з основною мережею:
    * Інший генезис-блок
    * Адреси платежів починаються з інших префіксів:
        * Стандартний pay-to-pubkeyhash (P2PKH) починається з великої `S`
        * Стандартний  pay-to-scripthash (P2SH) починається з малої `s`
    * Експортовані ієрархічні детерміновані розширені ключі (BIP32) починаються з інших префіксів:
        * Відкриті розширені ключі починаються з `spub`
        * Приватні розширені ключі починаються з `sprv`
    * TТип монети BIP44, що використовується в путях ключах HD, мають малу літеру  `s`

  ---

## Початок роботи 

Запуск одинароного вузла (node) `dcrd`  на simnet - це просто запуск `dcrd` з прапором `--simnet` .  Однак для того, щоб був результат, Ви, як правило, захочете мати можливість надсилати монети з адреси на адресу, що означає, що блоки потрібно буде видобувати, і треба взаємодіяти з гаманцем.

Окрім того, оскільки в новій приватній мережі фактично поки що немає монет, потрібно буде видобути початкові серії блоків, що будуть платити на Вашу адресу, яку ви володієте, тому є монети, доступні для користування.

Як згадувалося раніше, simnet використовує унікальні адреси, щоб запобігти плутанині з основною мережею. Таким чином, це означає, що треба використовувати гаманець, який підтримує такий формат адреси. Для цього може бути використаний `dcrwallet` з прапором `--simnet` .

Нижче наведено посилання на команду для початку роботи:

**ПРИМІТКА. Всі ці команди можна спростити, створюючи конфігураційні файли та використовуючи їх, однак команди, наведені тут, використовують всі параметри командного рядка, щоб точно показати, що потрібно для кожної.**

* Запустити dcrd на simnet:

    `$ dcrd --simnet --rpcuser=<username> --rpcpass=<password>`

* Створити новий гаманець simnet:

    `$ dcrwallet --simnet --create`

* Запустити dcrwallet на simnet:

    `$ dcrwallet --simnet --username=<username> --password=<password>`

* Створити нову адресу Decred simnet:

    `$ dcrctl --simnet --wallet --rpcuser=<username> --rpcpass=<password> getnewaddress`

* Зупинити початковий процес dcrd і перезапустити його за допомогою mining-адреси, встановленої на output попередньої команди:

    `$ dcrd --simnet --rpcuser=<username> --rpcpass=<password> --miningaddr=<S....>`

* Запропонувати dcrd, щоб генерувати достатньо початкових блоків для першої coinbase до зрілих:

    `$ dcrctl --simnet --rpcuser=<username> --rpcpass=<password> generate 100`

* Перевірити баланс гаманця, щоб впевнитися, чи доступні монети:

    `$ dcrctl --simnet --wallet --rpcuser=<username> --rpcpass=<password> getbalance`
  
На цьому етапі вже існує повністью функціональна приватна simnet з монетами, доступними для відправлення на інші адреси simnet. Кожного разу, коли надсилається одна або декілька транзакцій, для добування нового блоку має бути виданий RPC `generate 1` з включеними транзакціями
