# Schnorr 서명

---

Schnorr 시그니처가 Bitcoin에 제안되었습니다. 또한 Nxt 및 CryptoNote 동전과 같은 다른 크립토 통화에서 광범위하게 사용되었습니다. 가장 간단한 경우, Schnorr 서명 ECDSA 암호 시스템은 다음과 같이 설명 할 수 있습니다:

1. \(y = xG\) 여기서 \(y\) 는 곡선상의 공개 키 포인트이고, \(x\) 는 사적 스칼라, \(G\) 는 곡선 생성기입니다.
2. \(r = kG\) 여기서 \(r\) 는 생성자에 의한 nonce 스칼라의 \(k\), 의 곱셈으로 인해 생성 된 곡선상의 점입니다.
3. \(h = H(M || r)\) 여기서 \(H\) 는 보안 해시 함수이고, \(M\) 은 메시지 (일반적으로 32 바이트 해시)이고 \(r\)은 다음과 같습니다. 이전에 설명한 인코딩 된 포인트 \(||\) 는 연결을 나타냅니다.
4. \(s = k - hx\) 여기서 \(s\) 로 표시된 스칼라이다 \(k - hx\).
5. 서명은 \((r,s)\), 이며 검증은 간단히 \(H(M || r) == hQ + sG\) 입니다.

상기에서, 대문자 (예를 들어, \(kG\)) 에 의한 승산은 스칼라에 의한 포인트 승산이고, 따라서 항상 곡선상의 포인트입니다. 이 포인트를 추가하면 다른 점이 생깁니다. 스칼라의 덧셈과 곱셈은 정수와 함께하는 일반적인 곱셈과 같습니다. 점을 스칼라로 곱하는 것은 돌이킬 수없는 단계로 간주된다는 점에 유의해야합니다. 새 점에서 스칼라를 계산하는 것이 기본값 인 이산 로그 문제이기 때문입니다.

위에서 \(r\) 는 곡선의 한 점인 반면 \(s\) 는 스칼라임을 분명히 알 수 있습니다 \(x_{sum} = x_1 + ... + x_n\) 로 표현되는 서명자 그룹을 nonces \(k_{sum} = k_1 + ... + k_n\). 로 간주합니다. 개인 스칼라 합에 대한 공개 키는: \(y = x_{sum} G\). 입니다. 이 합계에 대한 서명 (모든 그룹 참여자로부터)은 다음과 같습니다.: \(r' = k_{sum} G s' = k_{sum} - h x_{sum}\). 이 서명을 생성하려면 모든 참가자가 개인 키와 넌센스를 미리 공유해야합니다. 이것을 피하기위해서 각 참여자에게 부분 서명을 만들게 하십시오. \(r_n = k_1 G + ... + k_n G = r'\) (참여자가 자유롭게 개별적으로 발표 할 수있는 공개 넌스 포인트의 합) \(s_n = k_n - h x_n\). 이를 시그니처에 대한 일반 공식으로 대체하고 점 또는 스칼라 추가를 사용하십시오: \(r = r_n = r'\) (위와 동일) \(s = s_1 + ... + s_n = s'\) (간단한 스칼라 \((k_1 - h x_1) + ... + (k_n - h x_n) = s_1 + ... + s_n = s')\). 이 참이어야합니다. m-of-n 서명을하는 것은 간단합니다 \(m\) 참여자에 대한 모든 가능한 공개 키 합계를 포함하는 머클 나무가 이러한 경우에 사용되어 \(log(n)\) 크기의 서명 [28]을 생성하는 것이 제안되었습니다.

---

## <i class="fa fa-book"></i> 참고 문헌 

[^1]: Wuille P. 2015. [나무 서명 : 나무 서명을 사용하는 스테로이드에 대한 Multisig](https://decred.org/research/wuille2015.pdf).
