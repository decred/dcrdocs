# طلبات التغيير والمساهمات للديكريد 

---

كل التعليمات البرمجية للديكريد محفوظة لدى GitHub. تقدم هذه الوثيقة بعض المعلومات الأساسية حول كيفية تعاملنا مع مساهمات التعليمات البرمجية وبعض المعلومات الأساسية عن كيفية المساهمة. هو يستند جزئيا إلى وثيقة مماثلة من          [btcsuite](https://github.com/btcsuite).

---

## الإعداد الأولي

اول خطوة جيدة هي القيام بقراءة [ إرشادات المساهمة في التعليمات البرمجية](https://github.com/decred/dcrd/blob/master/docs/code_contribution_guidelines.md) وذلك للحصول على فهم جيد لسياسات المستخدمة من قبل
المشروع. ويركز هذا المستند في المقام الأول على Go codebase إلا أنها لا تزال بداية جيدة.

سيتم تقسيم الأمثلة التالية إلى قسمين، واحد لمشاريع Go وهي (dcrd, dcrwallet, gominer, etc)، وواحد للمشاريع التي لا تحتاج ل Go وهي (decrediton, Paymetheus, dcrdocs, etc). وفي جميع الحالات، يجب التحقق من README.md في كل مشروع إذا كنت بحاجة إلى مساعدة لإعداد مشروع معين.

---

## النموذج العام

مع هذه العملية نحن نحاول جعل المساهمة بسيطة مع الحفاظ أيضا على مستوى عالٍ من جودة التعليمات البرمجية وتاريخها الجيد. ويجب على أعضاء فريق الديكريد اتباع نفس الإجراءات التي يتبعها المساهمون الخارجيون.

نموذجنا لقرصنة الاقراص في شكل المخطط العام هو كما يلي. إذا لم يكن لهذا أي معنى، فلا تقلق، سيتم شرح ذلك بمزيد من التفاصيل  في الأقسام التالية.

1. إعثر على مسألة تريد العمل عليها. إذا لم يكن هناك شيء يصف ما تريده،  يمكنك فتح واحدة تحتوي على ما تود القيام به.
1. إجراء تغييرات رمزيه على فرع.
1. ادخل هذه التغييرات في تقرير GitHub المتشعب الخاص بك.
1. عندما تكون التعليمات البرمجية الخاصة بك على استعداد للمراجعة أو عندما تريد اضافة مدخلات من أجهزة أخرى إفتح طلب سحب ( العلاقات العامة ) من التقرير الرئيسي من صفحة ويب GitHub.
1. أضف تعليق على العلاقات العامة التي تقول ما هي المشكلة التي يتم اصلاحها. ضع النص مغلق # أو إصلاح # متبوعا بعدد المشاكل فى سطر واحد. وهذا سيسمح ل GitHub بالقيام بربط تلقائي  للعلاقات العامة في هذه القضية حتى يتم اغلاق هذه القضيه عند اغلاق علاقاتها العامة.
1. يمكنك طلب مراجع محدد من صفحة ويب ل GitHub أو بامكانك طلبه من شخص على irc/slack  لمراجعتها.
1. يجب مراجعة جميع التعليمات البرمجية والحصول على موافقة واحدة على الأقل قبل أن تتمكن من الدخول. فقط أعضاء الفريق يمكنهم إعطاء الموافقة الرسمية، ولكن يتم تشجيع التعليقات من قبل المستخدمين الآخرين.
1. إذا كانت هناك تغييرات مطلوبة، يجب عليك القيام بها وسلمهم إلى فرعك المحلي.
1. أدخل تلك التغييرات إلى نفس الفرع الذي كان يحتوي على القرصنة. وهكذا سوف تظهر في العلاقات العامة  حيث يمكن للمراجع مقارنتها مع الإصدار السابق.
1. بمجرد الموافقة على الشفرة الخاصة بك، يمكن دمجها في الاصل. للحفاظ على السجل نظيفا، نسمح فقط بالدمج غير السريع (هذا يعني أننا نريد تاريخا خطيا).  وأغلب العلاقات العامة يجب ضمها في التزام واحد (على الرغم من أنه إذا كان هناك سبب لجعلها متعددة الالتزامات  يمكن النظر فيها  كل حالة على حدة).
1. إذا كان البرنامج الخاص بك  ذو التزام واحد (او يمكن ان ينهى بواسطة GitHub تلقائيا) ويتم إيصاله بالنسخة الاصلية، المراجع سيقوم بدمج العلاقات العامة الخاصة بك. إذا كان الفرع الخاص بك متاخرا جدا،  قد يطلب منك إعادة التزامك الخاص . بمجرد أن يتم ذلك وتقديمه، فإن المراجع سيقوم بدمج الالتزام الخاص بك.

---

## إذهب

للمشاريع التي تستخدم خدمة الذهاب، يمكنك اتباع هذا الإجراء. حيث سيتم استخدام الديكريد كمثال. هذا يفترض ان لديك بالفعل  go1.6 أو أحدث مثبت و `$ GOPATH` يعمل .

### اعداد لمرة واحدة
- تفرع دكرد على GitHub
- قم بتشغيل الأوامر التالية للحصول على دكرد، كل التبعيات، وتثبيته:

```bash
$ mkdir -p $GOPATH/src/github.com/decred/
$ git clone https://github.com/decred/dcrd $GOPATH/src/github.com/decred/dcrd
$ cd $GOPATH/src/github.com/decred/dcrd
$ go dep ensure
$ go install . ./cmd/...
```

- إضافة جهاز تحكم عن بعد git لتفرعك:

```bash
$ git remote add <yourname> https://github.com/<yourname>/dcrd.git
```

## مشاريع أخرى

بالنسبة للمشاريع غير المكتوبة في Go، فالاعداد الأولي يعتمد على  المشروع. سأستخدم dcrdocs كمثال هنا، ولكن الخطوات الأساسية هي نفسها لأي من المشاريع. يمكن رؤية الإعداد المحدد في مشروع README.md (على سبيل المثال كيفية تثبيت mkdocs للعمل على dcrdocs أو الإلكترون ل decrediton).

### اعداد لمرة واحدة
- تفرع dcrdocs على GitHub
- قم بتشغيل الأوامر التالية للحصول على دكرد، كل التبعيات، وتثبيته:

```bash
$ mkdir -p code/decred
$ cd code/decred
$ git clone https://github.com/decred/dcrdocs
$ cd dcrdocs
```

- اضف اداة التحكم git لتفرعك:

```bash
$ git remote add <yourname> https://github.com/<yourname>/dcrdocs.git
```

## إنشاء طلب سحب ذو ميزة جديدة
- إبحث او أنشئ المسألة لدى تقرير GitHub (الأصلي، وليس فرعك) للميزة التي تريد العمل عليها. 
- تحقق من الميزة الجديدة للفرع لإدخال التغييرات التي ستجريها:

```bash
$ git checkout -b <feature_branch>
```
- قم بالتغييرات الضرورية للميزة و إلتزم بها
- إدفع مميزات فرعك إلى تفرعك الخاص:

```bash
$ git push <yourname> <feature_branch>
```
- من المتصفح الخاص بك، يمكنك الانتقال إلى https://github.com/decred/dcrd
- قم بإنشاء طلب سحب من واجهة المستخدم GitHub. يمكنك طلب مراجع على صفحة ويب GitHub أو يمكنك أن تسأل أحدهم على irc/slack.

## إعادة صياغة واحدة من طلبات السحب الموجودة لديك

سيطلب منك أحيانا أن تعيد صياغة و كبس طلب السحب من أحدث فرع رئيسي .

- تأكد من أن الفرع الرئيسي محدث:

```bash
$ git checkout master
$ git pull
```
- تحقق من المميزات الموجودة للفرع و أعد صياغتها مع العلم التفاعلي:

```bash
$ git checkout <feature_branch>
$ git rebase -i master
```
- اتبع التوجيهات المقدمة لتحديد 's' بمعنى ضم الإلتزامات الإضافية (أول التزام يجب أن يبقى 'p' أو 'اختيار').
- قم بكتابة رسالة إلتزام واحدة للمحرر الذي حددت ليغطي كل إلتزاماتك المدرجة.
- قم بحفظ وإغلاق المحرر و سيقوم git بإنشاء التزام واحد مع الرسالة التي حددتها و كل الالتزامات التي أضفتها.  يمكنك التحقق من الالتزام بالأمر ```git show```.
- ألزم دفع الفرع إلى تفرعك:

```bash
$ git push -f <yourname> <feature_branch>
```

## اعتبارات أخرى

هناك بعض الأمور الأخرى التي يجب مراعاتها عند إجراء طلب سحب. في حالة رمز العودة Go، هناك قدر كبير من تغطية الاختبار. إذا كنت تقوم بإضافة التعليمات البرمجية، يجب عليك إضافة اختبارات كذلك. إذا كنت تقوم بتثبيت شيء ما، يجب التأكد منأنك لا تدمر أي اختبارات موجودة لديك. بالنسبة إلى رمز العودة Go، هناك نص برمجي ```goclean.sh``` في كل تقرير لتشغيل الاختبارات وأي برامج فحص ثابتة لدينا. لن يتم قبول أي رمز بدون اجتياز جميع الاختبارات. في حالة رمز node.js  و رمز (decrediton) كل الرموز يجب أن تمر  ب eslint. يمكنك التحقق من ذلك مع الأمر ```npm run lint```.

وأخيرا، كل تقرير لديه ترخيص. يجب أن يكون رمزك الجديد  تحت نفس الترخيص مثل التعليمات البرمجية الموجودة وتعيين حقوق التأليف والنشر إلى "مطوري الديكرد". في معظم الحالات هذا هو الترخيص المتحررل ISC  ولكن عدد قليل من التقارير مختلفة. تحقق من التقرير للتأكد.

إذا كان لديك أي أسئلة للمساهمة، لا تتردد في طلب المساعدة على irc/slack أو GitHub. وأعضاء فريق الديكريد (وربما أعضاء المجتمع أيضا)  سيكونون سعداء لتقديم المساعدة.
