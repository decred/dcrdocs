# 상세 거래 내역 

---

Decred transactions는 블록 내에 존재하는 DCR의 전송입니다. 트랜잭션은 입력 및 출력으로 주로 구성되지만 데이터의 몇 가지 다른 필드도 있습니다.


## 거래 형식

필드        | 설명                                                                                    | 크기
---          | ---                                                                                            | ---
버전      | 거래 버전. 이 번호는 트랜잭션 해석 방법을 나타내는 데 사용됩니다.  | 4 바이트
입력 횟수  | 가변 길이 정수로 인코딩 된 트랜잭션의 입력 수                   | 1-9 바이트
입력       | 모든 트랜잭션 입력의 일련 화 된 목록                                                | 변하기 쉬운
출력 수 | 가변 길이 정수로 인코딩 된 트랜잭션의 출력 수                  | 1-9 바이트
출력      | 모든 트랜잭션의 출력의 직렬화 된 목록                                               | 변하기 쉬운
잠금 시간    | 트랜잭션이 소비 될 수있는 시간. (일반적으로 0 인 경우에는 효과가 없습니다)       | 4 바이트
만기       | 트랜잭션이 만료되고 더 이상 유효하지 않은 블록 높이                       | 4 바이트


### 입력
투입물은 이전에 만들어진 산출물을 소비한다. 두 가지 유형의 거래 입력이 있습니다 : 증인 및 비 증인.


#### 비 증인 입력
비 증인 트랜잭션 입력은 사용되지 않은 출력과 일련 번호에 대한 참조입니다. 미사용 출력에 대한 참조를 "아웃 포인트"라고합니다. 아웃 포인트에는 세 개의 필드가 있습니다:

필드            | 설명                                                                                                                           | 크기
---              | ---                                                                                                                                   | ---
트랜잭션 해시 | 소비되는 출력을 포함하는 트랜잭션의 해시                                                                     | 32 바이트
출력 색인     | 소비되는 산출물의 색인                                                                                                   | 4 바이트
나무             | 어떤 블록이 트랜잭션을 찾는데 사용되는지 하나 이상의 트리가 있기 때문에 필요합니다. | 1 바이트

아웃 포인트 외에도 증인 입력에는 시퀀스 번호가 포함됩니다. 이 숫자는 관련 용도보다 더 많은 역사적 중요성을 가지고 있습니다. 그러나 가장 관련성이 높은 목적은 일정 기간까지 사용할 수 없도록 지급금을 "잠궈"는 것입니다.


#### 감시 입력
증인 거래 입력에는 결과물이 소비 될 수 있음을 입증하는 데 필요한 데이터가 들어 있습니다. 감시 입력에는 네 가지 데이터 필드가 있습니다:

필드            | 기술
---              | ---
가치            | 산출물이 소비하는 동전의 양.
블록 높이     | 소요 된 출력이있는 트랜잭션을 포함하는 블록의 높이.
블록 인덱스      | 소비되는 출력이있는 트랜잭션의 인덱스입니다.
서명 스크립트 | 소요되는 스크립트의 요구 사항을 충족시키는 스크립트.


### 출력
출력은 입력에 의해 소비 될 수있는 DCR의 전송입니다. 출력에는 항상 세 개의 데이터 필드가 있습니다:

필드             | 설명                                                                                     | 크기
---               | ---                                                                                             | ---
가치             | 출력에 의해 보내지는 DCR의 양.                                                     | 8 바이트
버전           | 출력의 버전. 이 숫자는 출력 해석 방법을 나타 내기 위해 사용됩니다. | 2 바이트
공개 키 스크립트 | 출력을 사용하기 위해 만족해야만하는 스크립트                                           | 변하기 쉬운

---

## 직렬화 
위에 표시된 형식은 트랜잭션을 보내고받는 형식이 아닙니다. 트랜잭션을 보내거나받을 때 몇 가지 방법으로 직렬화 할 수 있습니다. 트랜잭션을 역 직렬화해야하는 방법은 해당 버전에서 결정할 수 있습니다. 트랜잭션 버전은 4 바이트를 차지하지만 실제로 4 바이트는 두 개의 개별 값을 저장하는 데 사용됩니다. 트랜잭션 버전의 처음 두 바이트는 실제 버전 번호를 나타냅니다. 두 번째 두 바이트는 직렬화 형식을 나타냅니다.


### 직렬화 형식
직렬화 할 때 트랜잭션의 두 가지 주요 부분이 있습니다 : "접두어"와 목격자 데이터.
트랜잭션 접두사는 다음으로 구성됩니다:

* 입력 (감시 데이터 없음)
* 산출물
* 잠금 시간
* 만료

트랜잭션의 감시 데이터에는 입력 만 포함됩니다. 포함 된 입력 데이터 필드는 특정 직렬화 형식에 따라 다릅니다. 이 형식은 다음 중 하나 일 수 있습니다:

* **0 (전체 직렬화)** - 트랜잭션의 접두어는 감시 데이터 바로 앞에 위치합니다.
* **1 (목격자 없음)** - 트랜잭션의 접두사 만 데이터가 있습니다.
* **2 (증인 만)** - 거래의 증인 데이터가 유일한 데이터입니다. 각 입력에는 값, 블록 높이, 블록 색인 및 특성 스크립트가 포함됩니다.
* **3 (증인 서명)** - 거래의 증인 데이터가 유일한 데이터이며 서명 목적으로 일련 번호가 부여됩니다. 각 입력에 대해 서명 스크립트 만 포함됩니다.
* **4 (증인 서명)** - 거래의 증인 데이터가 유일한 데이터이며, 서명 목적으로 일련 번호가 지정됩니다. Witness 서명 형식과 달리이 형식에는 서명 스크립트 이전의 각 입력 값이 포함됩니다.
