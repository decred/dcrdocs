# Шнор потписи 

---

Шнор потписи су предложени за Биткоин. Такође су кориштени у великој мери у другим криптокуренцијама, као што су Нкт и КриптНоут новчићи. У најједноставнијем случају, Шнор потпис ECDSA криптосистем може се описати на следећи начин:

1. \(y = xG\) где је \(y\) јавна тачка кључа на кривој, \(x\) је приватни скалар, \(G\) је генератор кривине.
2. \(r = kG\) где је \(r\) тачка на кривој која произлази из множења \(k\), нонце скалара, од стране генератора.
3. \(h = H(M || r)\) где је \(H\) iсигурносна хашна функција, \(M\) је порука (обично a 32 byte hash), and \(r\) iе Кодирана тачка претходно описана. \(||\) означава конкатенацију.
4. \(s = k - hx\) где је \(s\) скалар означен од \(k - hx\).
5. Потпис је \((r,s)\),а верификација је једноставно \(H(M || r) == hQ + sG\).

У горњем тексту, множења великим словом (e.g., \(kG\)) су множења тачака од стране скалара, па тако увек доводи до тачке на кривини. Додавање ових тачака резултира још једном тачком. Додаци и множења скалара међу собом су исти као и редовно множење које бисте урадили са било којим бројем. Важно је напоменути да се помножавање тачке скаларом сматра неповратним кораком, јер израчунавање скалара из нове тачке подразумијева проблем дискретног логаритма.

Из горњег је јасно да је \(r\) тачка на кривој, док је \(s\) скалар. Размислите о групи потписника које представљају \(x_{sum} = x_1 + ... + x_n\) са неким \(k_{sum} = k_1 + ... + k_n\). Јавни кључ за приватну скаларну суму био би: \(y = x_{sum} G\). Потпис за ове суме (из свих учесника групе) би био: \(r' = k_{sum} G s' = k_{sum} - h x_{sum}\). Да би генерисали овај потпис, сви учесници су морали претходно дијелити свој приватни кључ. Желимо очигледно да то избегнемо, па умјесто тога дозволите нам да сваки учесник створи делимичан потпис. \(r_n = k_1 G + ... + k_n G = r'\) (збир јавних тачака без дозволе, које учесници могу слободно појединачно објавити) \(s_n = k_n - h x_n\). Замењујемо ово у опште формуле за потпис и користећи тачку или скаларни додатак: \(r = r_n = r'\) (исто као и горе) \(s = s_1 + ... + s_n = s'\) (једноставно скаларно То мора бити тачно да \((k_1 - h x_1) + ... + (k_n - h x_n) = s_1 + ... + s_n = s')\). Обављање м-оф-н потписа није тривијално. Предложено је да се у овим случајевима користи меркелово дрво са свим могућим сумама јавног кључа за учеснике \(log(n)\) sized signature [28].

---

## <i class="fa fa-book"></i> Референце 

[^1]: Wuille P. 2015. [Tree signatures: Multisig on steroids using tree signatures](https://decred.org/research/wuille2015.pdf).
