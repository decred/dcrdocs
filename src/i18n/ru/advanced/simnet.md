# Simnet 

---

## Обзор 

При разработке приложений Decred или тестировании потенциальных изменений часто чрезвычайно полезно иметь тестовую сеть, где уровнень сложности достаточно низкий, для генерации блоков по мере необходимости.

Чтобы облегчить эти сценарии, dcrd предоставляет сеть моделирования (`--simnet`).  Ниже приведен обзор наиболее важных свойств, отличающих его от основной сети:

* Сложность начинается крайне низко, что позволяет быструю добычу блоков с помощью CPU
* Изменения в организации сети:
    * All code related to peer discovery and IP address dissemination is disabled to help ensure the network remains private
    * Сетевые порты peer и RPC различны
    * В протоколе peer-to-peer сообщений используется уникальная сетевая последовательность байтов, поэтому блоки не могут случайно пересекаться с основной сетью
* Все параметры цепи и платежного адреса уникальны во избежание путаницы с основной сетью:
    * Другой генезис-блок
    * Адреса платежей начинаются с других префиксов:
        * Стандартный pay-to-pubkeyhash (P2PKH) начинается с заглавной `S`
        * Стандартный pay-to-scripthash (P2SH) начинается со строчной `s`
    * Экспортированные иерархические детерминированные расширенные ключи (BIP32) начинаются с других префиксов:
        * Открытые расширенные ключи начинаются с `spub`
        * Приватные расширенные ключи начинаются с `sprv`
    * Тип монеты BIP44, используемый в путях ключей HD, имеет строчную букву `s`

  ---

## Начало работы 

Запуск одиночного узла `dcrd` на simnet - это просто запуск `dcrd` с флагом `--simnet`.  Однако для того, чтобы был результат, Вы, по обыкновению, захотите иметь возможность отправлять монеты между адресами, что подразумевает, что блоки будет нужно  добывать и необходимо взаимодействие с кошельком.

Кроме того, поскольку в новой приватной сети фактически пока нет монет, потребуется добыть первоначальные серии блоков, которые будут платить на Ваш адрес, поэтому есть монеты, доступные для использования.

Как упоминалось ранее, simnet использует уникальные адреса во избежание путаницы с основной сетью. Таким образом, это означает, что должен использоваться кошелек, который поддерживает данный формат адреса. Для этого можно использовать, `dcrwallet` с флагом `--simnet`.

Ниже приведена ссылка на команду для начала работы:

**ПРИМЕЧАНИЕ: Все эти команды можно упростить, создав конфигурационные файлы и используя их, однако команды, приведенные здесь, используют все параметры в командной строке, чтобы точно показать, что нужно для каждой.**

* Запустить dcrd на simnet:

    `$ dcrd --simnet --rpcuser=<username> --rpcpass=<password>`

* Создайть новый кошелек simnet:

    `$ dcrwallet --simnet --create`

* Запустить dcrwallet на simnet:

    `$ dcrwallet --simnet --username=<username> --password=<password>`

* Создать новый адрес Decred simnet:

    `$ dcrctl --simnet --wallet --rpcuser=<username> --rpcpass=<password> getnewaddress`

* Остановить начальный процесс dcrd и перезапустить его с помощью mining-адреса, установленного на output из предыдущей команды:

    `$ dcrd --simnet --rpcuser=<username> --rpcpass=<password> --miningaddr=<S....>`

* Поручить dcrd генерировать достаточное количество начальных блоков для создания первой койнбазы:

    `$ dcrctl --simnet --rpcuser=<username> --rpcpass=<password> generate 100`

* Проверить баланс кошелька, чтобы убедиться, что монеты доступны:

    `$ dcrctl --simnet --wallet --rpcuser=<username> --rpcpass=<password> getbalance`
  
На данном этапе уже существует полностью функциональная приватная simnet с монетами, доступными для отправки на другие адреса simnet. Каждый раз, когда отправляется одна или несколько транзакций, для добычи нового блока должен быть выдан RPC `generate 1` с включенными транзакциями.
